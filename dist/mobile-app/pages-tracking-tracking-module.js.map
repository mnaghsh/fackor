{"version":3,"sources":["webpack:///./src/components/track-nav-bar/track-nav-bar.component.css","webpack:///./src/components/track-nav-bar/track-nav-bar.component.html","webpack:///./src/components/track-nav-bar/track-nav-bar.component.ts","webpack:///./src/mobile-app/pages/tracking/components/settings/settings.component.css","webpack:///./src/mobile-app/pages/tracking/components/settings/settings.component.html","webpack:///./src/mobile-app/pages/tracking/components/settings/settings.component.ts","webpack:///./src/mobile-app/pages/tracking/index/index.component.css","webpack:///./src/mobile-app/pages/tracking/index/index.component.html","webpack:///./src/mobile-app/pages/tracking/index/index.component.ts","webpack:///./src/mobile-app/pages/tracking/tracking-routing.module.ts","webpack:///./src/mobile-app/pages/tracking/tracking.module.ts"],"names":[],"mappings":"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","file":"pages-tracking-tracking-module.js","sourcesContent":["module.exports = \".mat-toolbar.mat-primary {\\r\\n  position: fixed;\\r\\n  top: 0;\\r\\n  right: 0;\\r\\n  left: 0;\\r\\n  z-index: 10;\\r\\n  padding: 30px;\\r\\n}\\r\\n.container{\\r\\n  background-color: rgba(0, 0, 0, 0.66)!important;\\r\\n}\\r\\n.general-tools-btn .measure-menu{\\r\\n  margin: auto 6px auto;\\r\\n}\\r\\n.measure-selected{\\r\\n  font-size: 14px;\\r\\n}\\r\\n.mat-toolbar-row, .mat-toolbar-single-row {\\r\\n  height: 35px;\\r\\n  display: block;\\r\\n  padding-right: 40px;\\r\\n  padding-left: 50px;\\r\\n  background-color: #161a21;\\r\\n  color: rgb(255, 165, 0);\\r\\n  padding-top: 4px;\\r\\n}\\r\\n.saveBtn{\\r\\n  font-size: 20px;\\r\\n  color: rgb(255, 165, 0);\\r\\n  cursor: pointer;\\r\\n}\\r\\n.general-tools-btn{\\r\\n  margin: auto 15px auto;\\r\\n}\\r\\n.enable{\\r\\n  color: #d0271b !important;\\r\\n }\\r\\n::ng-deep.tooltip {\\r\\n  position: relative;\\r\\n  background: rgba(0, 0, 0, 0.5);\\r\\n  border-radius: 4px;\\r\\n  color: white;\\r\\n  padding: 4px 8px;\\r\\n  opacity: 0.7;\\r\\n  white-space: nowrap;\\r\\n}\\r\\n::ng-deep.tooltip-measure {\\r\\n  opacity: 1;\\r\\n  font-weight: bold;\\r\\n}\\r\\n::ng-deep.tooltip-static {\\r\\n  background-color: rgb(255, 165, 0);\\r\\n  color: black;\\r\\n  border: 1px solid white;\\r\\n}\\r\\n::ng-deep.tooltip-measure:before,\\r\\n::ng-deep.tooltip-static:before {\\r\\n  border-top: 6px solid rgba(0, 0, 0, 0.5);\\r\\n  border-right: 6px solid transparent;\\r\\n  border-left: 6px solid transparent;\\r\\n  content: \\\"\\\";\\r\\n  position: absolute;\\r\\n  bottom: -6px;\\r\\n  margin-left: -7px;\\r\\n  left: 50%;\\r\\n}\\r\\n::ng-deep.tooltip-static:before {\\r\\n  border-top-color: rgb(255, 165, 0);\\r\\n}\\r\\n::ng-deep.cdk-overlay-connected-position-bounding-box{\\r\\n  direction: ltr;\\r\\n}\\r\\n.edit-feature-btn{\\r\\n  background-color: rgba(254,255,203,0);\\r\\n  border: 0;\\r\\n}\\r\\nbutton.mat-menu-item:focus{\\r\\n   outline: 0;\\r\\n   outline: 0;\\r\\n}\\r\\n\"","module.exports = \"<mat-toolbar>\\r\\n  <!-- حالت دست -->\\r\\n  <span class=\\\" general-tools-btn\\\">\\r\\n    <i class=\\\"fa fa-hand-paper-o saveBtn\\\" (click)=\\\"calkService.handMode(this.pointer,this.modify,this.select)\\\"\\r\\n       [ngClass]=\\\"{'enable': calkService.handStatus}\\\"></i>\\r\\n  </span>\\r\\n  <!-- حالت پوینتر -->\\r\\n  <span class=\\\" general-tools-btn\\\" [ngClass]=\\\"{'enable': calkService.pointerStatus}\\\">\\r\\n    <i class=\\\"fa fa-mouse-pointer \\\" (click)=\\\"calkService.pointerMode()\\\"></i>\\r\\n  </span>\\r\\n\\r\\n  <!--<span class=\\\" general-tools-btn\\\">-->\\r\\n    <!--<i class=\\\"fa fa-eye show-bars-toggle\\\" size=\\\"1x\\\" (click)=\\\"showBarsToggle()\\\"></i>-->\\r\\n  <!--</span>-->\\r\\n\\r\\n  <span class=\\\" general-tools-btn\\\">\\r\\n    <i class=\\\"fa fa-th-large show-bars-toggle\\\" [ngClass]=\\\"gratFlag ? 'enable':''\\\" size=\\\"1x\\\"\\r\\n       (click)=\\\"graticuleToggle()\\\"></i>\\r\\n  </span>\\r\\n\\r\\n  <span class=\\\" general-tools-btn\\\">\\r\\n    <i class=\\\"fa fa-search show-bars-toggle\\\" [ngClass]=\\\" dragBoxFlag ? 'enable':''\\\" size=\\\"1x\\\"\\r\\n       (click)=\\\"zoomToBox()\\\"></i>\\r\\n  </span>\\r\\n\\r\\n  <span class=\\\" general-tools-btn\\\">\\r\\n    <i class=\\\"fa fa-crosshairs show-bars-toggle\\\" [ngClass]=\\\" dragBoxFlag ? '':''\\\" size=\\\"1x\\\"\\r\\n       (click)=\\\"zoomToCoordinate()\\\"></i>\\r\\n  </span>\\r\\n\\r\\n  <span class=\\\" general-tools-btn\\\">\\r\\n    <i class=\\\"fa fa-edit show-bars-toggle\\\" [ngClass]=\\\" measureFlag ? 'enable':''\\\" size=\\\"1x\\\"\\r\\n       (click)=\\\"toggleMeasure()\\\"></i>\\r\\n  \\r\\n\\r\\n  <span [matMenuTriggerFor]=\\\"menu\\\" class=\\\"measure-menu\\\">\\r\\n    <i class=\\\"fa show-bars-toggle measure-selected\\\" [ngClass]=\\\"measureType == 'LineString' ? 'fa-line-chart' : 'fa-crop'\\\" size=\\\"1x\\\"></i>\\r\\n  </span>\\r\\n  <mat-menu #menu=\\\"matMenu\\\">\\r\\n    <button mat-menu-item (click)=\\\"changeMeasureType('LineString')\\\"\\r\\n            [ngClass]=\\\"measureType == 'LineString' ? 'enable' : ''\\\">\\r\\n      <i  class=\\\"fa fa-line-chart show-bars-toggle\\\" size=\\\"1x\\\" ></i>\\r\\n      <span>خط</span>\\r\\n    </button>\\r\\n    <button mat-menu-item (click)=\\\"changeMeasureType('Polygon')\\\"\\r\\n            [ngClass]=\\\"measureType == 'Polygon' ? 'enable' : ''\\\">\\r\\n      <i  class=\\\"fa fa-crop show-bars-toggle\\\" size=\\\"1x\\\" ></i>\\r\\n      <span>شکل</span>\\r\\n    </button>\\r\\n  </mat-menu>\\r\\n\\r\\n</span>\\r\\n</mat-toolbar>\\r\\n\"","import {Component, OnInit} from '@angular/core';\r\nimport {ConfigStyleService} from \"../../services/config-style.service\";\r\nimport {FavaMap} from \"fava-map\";\r\nimport {CalkService} from '../../services/calk/calk.service';\r\nimport Graticule from 'ol/graticule';\r\nimport Stroke from 'ol/style/stroke';\r\nimport Draw, {createBox} from 'ol/interaction/Draw';\r\nimport {CoordinateDialogComponent} from \"../coordinate-dialog/coordinate-dialog.component\";\r\nimport {MatDialog, MatSort} from \"@angular/material\";\r\nimport * as OlProj from 'ol/proj';\r\nimport Polygon from 'ol/geom/Polygon';\r\nimport LineString from 'ol/geom/LineString';\r\nimport Fill from 'ol/style/Fill';\r\nimport Style from 'ol/style/Style';\r\nimport CircleStyle from 'ol/style/Circle';\r\nimport {unByKey} from 'ol/Observable.js';\r\nimport {getArea, getLength} from 'ol/sphere.js';\r\nimport {Vector as VectorLayer} from 'ol/layer.js';\r\nimport {Vector as VectorSource} from 'ol/source.js';\r\nimport Overlay from 'ol/Overlay.js';\r\n\r\n\r\n@Component({\r\n  selector: 'mobile-app-track-nav-bar',\r\n  templateUrl: './track-nav-bar.component.html',\r\n  styleUrls: ['./track-nav-bar.component.css']\r\n})\r\nexport class TrackNavBarComponent implements OnInit {\r\n\r\n  measureFlag = false;\r\n  measureSource;\r\n  measureLayer;\r\n  sketch;\r\n  helpTooltipElement;\r\n  helpTooltip;\r\n  measureTooltipElement;\r\n  measureTooltip;\r\n  measureDraw;\r\n  overLays = [];\r\n  measureType = 'LineString';\r\n\r\n  graticule;\r\n  gratFlag = false;\r\n  dragBoxFlag = false;\r\n\r\n\r\n  constructor(private configStyleService: ConfigStyleService,\r\n              private mapService: FavaMap,\r\n              private calkService: CalkService,\r\n              private dialog: MatDialog) {\r\n    this.graticule = new Graticule({\r\n      strokeStyle: new Stroke({\r\n        color: 'rgba(255,120,0,0.9)',\r\n        width: 1.5,\r\n        lineDash: [0.5, 4]\r\n      }),\r\n      lonLabelPosition: 0.18,\r\n      latLabelPosition: 0.88,\r\n      showLabels: true,\r\n    });\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  graticuleToggle() {\r\n    if (this.gratFlag === true) {\r\n      this.gratFlag = false;\r\n      this.mapService.getMap().removeControl(this.graticule);\r\n    } else {\r\n      this.gratFlag = true;\r\n      this.mapService.getMap().addControl(this.graticule);\r\n    }\r\n  }\r\n\r\n  zoomToBox() {\r\n    this.dragBoxFlag = true;\r\n    const map = this.mapService.getMap();\r\n    const interActionsStatus = [];\r\n    map.getInteractions().forEach(\r\n      (interAction) => {\r\n        interActionsStatus.push({value: interAction, status: interAction.getActive()});\r\n      }\r\n    );\r\n    const drag = new Draw({\r\n      geometryFunction: createBox(),\r\n      type: 'Circle'\r\n    });\r\n    map.addInteraction(drag);\r\n    drag.on('drawend', (evt) => {\r\n      this.dragBoxFlag = false;\r\n      const extent = evt.feature.getGeometry().getExtent();\r\n      map.getView().fit(extent);\r\n      map.removeInteraction(drag);\r\n      interActionsStatus.forEach(\r\n        (interAction) => {\r\n          interAction.value.setActive(interAction.status);\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  zoomToCoordinate() {\r\n    const dialogRef = this.dialog.open(CoordinateDialogComponent, {\r\n      data: {},\r\n      width: \"40%\",\r\n      height: \"auto\"\r\n    });\r\n    dialogRef.afterClosed().subscribe(\r\n      (data) => {\r\n        if (data) {\r\n          this.mapService.getMap().getView().animate\r\n          ({zoom: data.zoom}, {center: OlProj.fromLonLat([data.lon, data.lat])});\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  addMeasureLayer() {\r\n    const map = this.mapService.getMap();\r\n\r\n    this.measureSource = new VectorSource();\r\n\r\n    this.measureLayer = new VectorLayer({\r\n      source: this.measureSource,\r\n      style: new Style({\r\n        fill: new Fill({\r\n          color: 'rgba(255, 255, 255, 0.2)'\r\n        }),\r\n        stroke: new Stroke({\r\n          color: '#ffcc33',\r\n          width: 2\r\n        }),\r\n        image: new CircleStyle({\r\n          radius: 7,\r\n          fill: new Fill({\r\n            color: '#ffcc33'\r\n          })\r\n        })\r\n      })\r\n    });\r\n\r\n    map.addLayer(this.measureLayer);\r\n  }\r\n\r\n  initMeasureTool() {\r\n    this.addMeasureLayer();\r\n    // map.getViewport().addEventListener('mouseout', function () {\r\n    //   that.helpTooltipElement.classList.add('hidden');\r\n    // });\r\n    this.addInteraction(this.measureType);\r\n  }\r\n\r\n  createHelpTooltip() {\r\n    if (this.helpTooltipElement) {\r\n      this.helpTooltipElement.parentNode.removeChild(this.helpTooltipElement);\r\n    }\r\n    this.helpTooltipElement = document.createElement('div');\r\n    this.helpTooltipElement.className = 'tooltip hidden';\r\n    this.helpTooltip = new Overlay({\r\n      element: this.helpTooltipElement,\r\n      offset: [15, 0],\r\n      positioning: 'center-left'\r\n    });\r\n    this.mapService.getMap().addOverlay(this.helpTooltip);\r\n  }\r\n\r\n  createMeasureTooltip() {\r\n    if (this.measureTooltipElement) {\r\n      this.measureTooltipElement.parentNode.removeChild(this.measureTooltipElement);\r\n    }\r\n    this.measureTooltipElement = document.createElement('div');\r\n    this.measureTooltipElement.className = 'tooltip tooltip-measure';\r\n    this.measureTooltip = new Overlay({\r\n      element: this.measureTooltipElement,\r\n      offset: [0, -15],\r\n      positioning: 'bottom-center'\r\n    });\r\n    this.mapService.getMap().addOverlay(this.measureTooltip);\r\n    this.overLays.push(this.measureTooltip);\r\n  }\r\n\r\n  formatLength(line) {\r\n    const length = getLength(line);\r\n    let output;\r\n    if (length > 100) {\r\n      output = (Math.round(length / 1000 * 100) / 100) +\r\n        ' ' + 'کیلومتر';\r\n    } else {\r\n      output = (Math.round(length * 100) / 100) +\r\n        ' ' + 'متر';\r\n    }\r\n    return output;\r\n  }\r\n\r\n  formatArea(polygon) {\r\n    const area = getArea(polygon);\r\n    let output;\r\n    if (area > 10000) {\r\n      output = (Math.round(area / 1000000 * 100) / 100) +\r\n        ' ' + 'کیلومتر مربع';\r\n    } else {\r\n      output = (Math.round(area * 100) / 100) +\r\n        ' ' + 'متر مربع';\r\n    }\r\n    return output;\r\n  }\r\n\r\n  addInteraction(type) {\r\n    const that = this;\r\n    that.measureDraw = new Draw({\r\n      source: that.measureSource,\r\n      type: type,\r\n      style: new Style({\r\n        fill: new Fill({\r\n          color: 'rgba(255, 255, 255, 0.2)'\r\n        }),\r\n        stroke: new Stroke({\r\n          color: 'rgba(0, 0, 0, 0.5)',\r\n          lineDash: [10, 10],\r\n          width: 2\r\n        }),\r\n        image: new CircleStyle({\r\n          radius: 5,\r\n          stroke: new Stroke({\r\n            color: 'rgba(0, 0, 0, 0.7)'\r\n          }),\r\n          fill: new Fill({\r\n            color: 'rgba(255, 255, 255, 0.2)'\r\n          })\r\n        })\r\n      })\r\n    });\r\n    this.mapService.getMap().addInteraction(that.measureDraw);\r\n\r\n    that.createMeasureTooltip();\r\n    that.createHelpTooltip();\r\n\r\n    let listener;\r\n    that.measureDraw.on('drawstart',\r\n      function (evt) {\r\n        // set sketch\r\n        that.sketch = evt.feature;\r\n\r\n        /** @type {module:ol/coordinate~Coordinate|undefined} */\r\n        let tooltipCoord = evt.coordinate;\r\n\r\n        listener = that.sketch.getGeometry().on('change', function (evt) {\r\n          const geom = evt.target;\r\n          let output;\r\n          if (geom instanceof Polygon) {\r\n            output = that.formatArea(geom);\r\n            tooltipCoord = geom.getInteriorPoint().getCoordinates();\r\n          } else if (geom instanceof LineString) {\r\n            output = that.formatLength(geom);\r\n            tooltipCoord = geom.getLastCoordinate();\r\n          }\r\n          that.measureTooltipElement.innerHTML = output;\r\n          that.measureTooltip.setPosition(tooltipCoord);\r\n        });\r\n      }, this);\r\n\r\n    that.measureDraw.on('drawend',\r\n      function () {\r\n        that.measureTooltipElement.className = 'tooltip tooltip-static';\r\n        that.measureTooltip.setOffset([0, -7]);\r\n        // unset sketch\r\n        that.sketch = null;\r\n        // unset tooltip so that a new one can be created\r\n        that.measureTooltipElement = null;\r\n        that.createMeasureTooltip();\r\n        unByKey(listener);\r\n      }, this);\r\n  }\r\n\r\n  toggleMeasure() {\r\n    if (this.measureFlag == false) {\r\n      this.initMeasureTool();\r\n    } else {\r\n      this.mapService.getMap().removeInteraction(this.measureDraw);\r\n      this.mapService.getMap().removeLayer(this.measureLayer);\r\n      this.overLays.forEach(\r\n        (overLay) => {\r\n          this.mapService.getMap().removeOverlay(overLay);\r\n        }\r\n      );\r\n    }\r\n    this.measureFlag = !this.measureFlag;\r\n  }\r\n\r\n  changeMeasureType(type) {\r\n    this.measureType = type;\r\n    if (this.measureFlag) {\r\n      this.mapService.getMap().removeInteraction(this.measureDraw);\r\n      this.addInteraction(type);\r\n    }\r\n  }\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<i class=\\\"fa fa-window-close \\\" size=\\\"3x\\\" mat-raised-button (click)=\\\"cancel()\\\">\\r\\n\\r\\n  &nbsp;</i>\\r\\n<p>تنظیمات مربوط به زمان ردگیری</p>\\r\\n<mat-divider></mat-divider>\\r\\n<br>\\r\\n<mat-radio-group [(ngModel)]=\\\"selectedItem\\\">\\r\\n  <div class=\\\"row\\\">\\r\\n    <mat-radio-button class=\\\"col-1\\\" value=\\\"hour\\\"></mat-radio-button>\\r\\n    <mat-form-field class=\\\"col-10\\\">\\r\\n      <input type=\\\"number\\\" [disabled]=\\\"selectedItem!='hour'\\\" matInput [(ngModel)]=\\\"refreshTime.hour\\\" placeholder=\\\" زمان به ساعت \\\" />\\r\\n    </mat-form-field>\\r\\n  </div>\\r\\n  <div class=\\\"row\\\">\\r\\n    <mat-radio-button class=\\\"col-1\\\" value=\\\"miniute\\\"></mat-radio-button>\\r\\n    <mat-form-field class=\\\"col-10\\\">\\r\\n      <input type=\\\"number\\\" [disabled]=\\\"selectedItem!='miniute'\\\" matInput [(ngModel)]=\\\"refreshTime.miniute\\\" placeholder=\\\" زمان به دقیقه \\\"\\r\\n      />\\r\\n    </mat-form-field>\\r\\n  </div>\\r\\n  <div class=\\\"row\\\">\\r\\n    <mat-radio-button class=\\\"col-1\\\" value=\\\"sit\\\"></mat-radio-button>\\r\\n    <mat-form-field class=\\\"col-10\\\">\\r\\n      <input type=\\\"number\\\" [disabled]=\\\"selectedItem!='sit'\\\" matInput [(ngModel)]=\\\"refreshTime.sit\\\" placeholder=\\\" زمان به ثانیه \\\" />\\r\\n    </mat-form-field>\\r\\n  </div>\\r\\n</mat-radio-group>\\r\\n<i class=\\\"fa fa-check \\\" size=\\\"2x\\\" (click)=\\\"ok()\\\"> </i>\"","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\r\nimport { UsersService } from 'src/services/users/users.service';\r\nimport { TrackingService } from '../../../../../services/tracking/tracking.service';\r\nimport { Observable, Subject } from 'rxjs';\r\n//<MN>\r\n\r\n@Component({\r\n  selector: 'mobile-app-settings',\r\n  templateUrl: './settings.component.html',\r\n  styleUrls: ['./settings.component.css']\r\n})\r\nexport class SettingsComponent {\r\n  mhd: number;\r\n  selectedItem = \"sit\"\r\n  value;\r\n  refreshTime = {\r\n    hour: undefined,\r\n    miniute: undefined,\r\n    sit: undefined\r\n  }\r\n\r\n  constructor(private dialogRef: MatDialogRef<SettingsComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data,\r\n    public usersService: UsersService,\r\n    public trackingService: TrackingService) {\r\n    this.getRefreshTime().subscribe();\r\n  }\r\n  ok() {\r\n    if (this.refreshTime[this.selectedItem] >= 0) {\r\n      switch (this.selectedItem) {\r\n        case \"miniute\": {\r\n          this.mhd = this.refreshTime[this.selectedItem] * 60\r\n          this.dialogRef.close(this.mhd);\r\n          break;\r\n        }\r\n        case \"hour\": {\r\n          this.mhd = this.refreshTime[this.selectedItem] * 3600\r\n          this.dialogRef.close(this.mhd);\r\n          break;\r\n        }\r\n        default: {\r\n          this.mhd = this.refreshTime[this.selectedItem] \r\n          this.dialogRef.close(this.mhd);\r\n          break;\r\n        }\r\n       \r\n      }\r\n      this.trackingService.updateRefreshTime(this.data,this.mhd).subscribe()\r\n    }\r\n    else {\r\n      console.log('خطا')\r\n    }\r\n\r\n\r\n  }\r\n  cancel(): void {\r\n    this.dialogRef.close();\r\n  }\r\n  getRefreshTime(): Observable<any> {\r\n    let mhd = new Subject<any>();\r\n    this.trackingService.getRefreshTime(this.data).subscribe(\r\n      (response) => {\r\n        console.log('response', response)\r\n        this.refreshTime.sit = response['refreshtime'];\r\n        mhd.next();\r\n      }\r\n    )\r\n    return mhd;\r\n  }\r\n}\r\n\r\n","module.exports = \".nav-bar {\\r\\n  /*position: absolute;*/\\r\\n  bottom: 0;\\r\\n  width: 100%;\\r\\n  background-color: #eee;\\r\\n}\\r\\n\\r\\n.mat-tab-link {\\r\\n  color: black;\\r\\n}\\r\\n\\r\\n.example-container {\\r\\n  width: 100%;\\r\\n  position: fixed;\\r\\n  left: 0;\\r\\n  top: 0;\\r\\n  bottom: 0;\\r\\n}\\r\\n\\r\\nmat-sidenav {\\r\\n  /* width: 15%; */\\r\\n  direction: rtl;\\r\\n  background-color: rgba(0, 0, 0, 0.45);\\r\\n  z-index: 3;\\r\\n  position: absolute;\\r\\n\\r\\n}\\r\\n\\r\\nfa {\\r\\n  float: left;\\r\\n  padding: 1%;\\r\\n  color: orange;\\r\\n}\\r\\n\\r\\n/*\\r\\nmat-sidenav-content {\\r\\n} */\\r\\n\\r\\nmat-list-item {\\r\\n  cursor: pointer;\\r\\n  direction: ltr;\\r\\n}\\r\\n\\r\\n.containers {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  width: 100%;\\r\\n  position: absolute;\\r\\n  top: 0;\\r\\n  left: 0;\\r\\n  z-index: 1999;\\r\\n}\\r\\n\\r\\n.containers > * {\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\nmat-chip.leftChips {\\r\\n  border-top-right-radius: 24px !important;\\r\\n  border-bottom-right-radius: 24px !important;\\r\\n  border-bottom-left-radius: 24px !important;\\r\\n  background-color: #eee !important;\\r\\n  color: black !important;\\r\\n}\\r\\n\\r\\n.mat-standard-chip {\\r\\n  border-radius: 0px;\\r\\n}\\r\\n\\r\\nmat-chip.rightChips {\\r\\n  border-top-left-radius: 24px !important;\\r\\n  border-bottom-right-radius: 24px !important;\\r\\n  border-bottom-left-radius: 24px !important;\\r\\n  background-color: #dcf8c6 !important;\\r\\n}\\r\\n\\r\\n.button {\\r\\n  direction: ltr !important;\\r\\n  overflow-y: auto;\\r\\n}\\r\\n\\r\\n.contactLabel {\\r\\n  /* padding: 1%; */\\r\\n  padding: 1%;\\r\\n}\\r\\n\\r\\n.label {\\r\\n  padding-left: 20px;\\r\\n  color: white;\\r\\n  font-size: 12px;\\r\\n  display: block;\\r\\n}\\r\\n\\r\\n.userDetails {\\r\\n  white-space: nowrap;\\r\\n}\\r\\n\\r\\n.userDetailsss {\\r\\n  display: block;\\r\\n}\\r\\n\\r\\n.input {\\r\\n  /* min-width: 150px!important;\\r\\n  max-width: 500px!important; */\\r\\n  width: 92% !important;\\r\\n  border: 0;\\r\\n  padding: 10px;\\r\\n}\\r\\n\\r\\n.input-full-width {\\r\\n  width: 100% !important;\\r\\n}\\r\\n\\r\\n.leftChips {\\r\\n  direction: rtl;\\r\\n  padding: 0 10px;\\r\\n\\r\\n}\\r\\n\\r\\n.rightChips {\\r\\n  color: black !important;\\r\\n  padding: 0 10px;\\r\\n}\\r\\n\\r\\n.sendBotton {\\r\\n  width: 5% !important;\\r\\n  float: right;\\r\\n\\r\\n}\\r\\n\\r\\n.sidNavTitle {\\r\\n  background: orange;\\r\\n}\\r\\n\\r\\n.toggle {\\r\\n  color: black\\r\\n}\\r\\n\\r\\n.leftMenuButton {\\r\\n  position: absolute;\\r\\n  z-index: 19000;\\r\\n  left: 0;\\r\\n  top: 0;\\r\\n}\\r\\n\\r\\n.showBarsToggle{\\r\\n  position: absolute;\\r\\n  z-index: 19000;\\r\\n  left: 50px;\\r\\n  top: 0;\\r\\n}\\r\\n\\r\\n.position {\\r\\n  font-size: 12px;\\r\\n  color: yellow;\\r\\n  white-space: nowrap;\\r\\n}\\r\\n\\r\\n.mat-expansion-panel-spacing {\\r\\n  margin: 0;\\r\\n  background: transparent;\\r\\n}\\r\\n\\r\\n.mat-expansion-panel {\\r\\n  background: transparent;\\r\\n}\\r\\n\\r\\n.mat-expansion-panel-header-title {\\r\\n  color: #fff;\\r\\n}\\r\\n\\r\\n.mat-expansion-indicator {\\r\\n  color: orange !important;\\r\\n}\\r\\n\\r\\n.mat-chip.mat-standard-chip {\\r\\n  background-color: inherit\\r\\n}\\r\\n\\r\\n.mat-tab-link {\\r\\n  color: white;\\r\\n}\\r\\n\\r\\n.example-container {\\r\\n  width: 100%;\\r\\n  /* margin: 10px; */\\r\\n  /* border: 1px solid #555; */\\r\\n  position: fixed;\\r\\n  left: 0;\\r\\n  top: 0;\\r\\n  bottom: 0;\\r\\n}\\r\\n\\r\\n.custom-mouse-position {\\r\\n\\r\\n}\\r\\n\\r\\nmat-sidenav {\\r\\n  width: 85vw !important;\\r\\n  min-width: 200px !important;\\r\\n  max-width: 300px !important;\\r\\n  /*direction: rtl;*/\\r\\n}\\r\\n\\r\\n.label {\\r\\n  padding-right: 10px;\\r\\n}\\r\\n\\r\\nnav {\\r\\n  /*direction: rtl !important;*/\\r\\n}\\r\\n\\r\\n.map {\\r\\n  position: fixed;\\r\\n  top: 35px;\\r\\n  bottom: 0px;\\r\\n  right: 0;\\r\\n  left: 0;\\r\\n}\\r\\n\\r\\n.mat-toolbar-row, .mat-toolbar-single-row {\\r\\n  height: 45px;\\r\\n  display: block;\\r\\n}\\r\\n\\r\\n.mat-button {\\r\\n  padding-top: 2px;\\r\\n}\\r\\n\\r\\n.mat-menu-content {\\r\\n  padding-top: 0px;\\r\\n  padding-bottom: 0px;\\r\\n}\\r\\n\\r\\nbutton.mat-menu-item {\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.menu-header {\\r\\n  text-align: center;\\r\\n  padding-top: 20px;\\r\\n  padding-bottom: 20px;\\r\\n}\\r\\n\\r\\n.activeLayer {\\r\\n  background-color: #e9e3ff;\\r\\n}\\r\\n\\r\\n.layerButton {\\r\\n  outline: 0px dotted;\\r\\n  outline: 0px auto -webkit-focus-ring-color;\\r\\n}\\r\\n\\r\\n.toolbar {\\r\\n  /*background-color: rgba(0, 0, 0, 0.7) !important;*/\\r\\n  background-color: #161a21;\\r\\n  z-index: 11;\\r\\n  color: orange;\\r\\n  position: absolute;\\r\\n  padding-right: 3.5%;\\r\\n  padding-top: 0.5%;\\r\\n  /* margin-right: 1.5% */\\r\\n}\\r\\n\\r\\ndp-date-picker.dp-material .dp-picker-input{\\r\\n  width: 0 !important;\\r\\n}\\r\\n\\r\\n.iBtn{\\r\\n  color:white;\\r\\n  font-size:18px;\\r\\n}\\r\\n\\r\\n.summery{\\r\\n  position: absolute;\\r\\n}\\r\\n\\r\\n.calk-map {\\r\\n  position: absolute;\\r\\n  top: 35px;\\r\\n  bottom: 0px;\\r\\n  right: 0;\\r\\n  left: 0;\\r\\n}\\r\\n\\r\\n#scale-line-box{\\r\\n  top: 43px;\\r\\n  left: 42px;\\r\\n  border-bottom: 5px #ffa500 dashed;\\r\\n  text-align: left !important;\\r\\n  border-top-left-radius: 8px;\\r\\n  border-top-right-radius: 8px;\\r\\n\\r\\n}\\r\\n\\r\\n#mouse-position{\\r\\n  bottom: 72px;\\r\\n  left: 5px;\\r\\n  padding-right: 5px;\\r\\n  padding-left: 5px;\\r\\n  border-radius: 8px;\\r\\n}\\r\\n\"","module.exports = \"<mat-sidenav-container class=\\\"example-container tracking\\\" autosize hasBackdrop=\\\"true\\\">\\r\\n  <mat-sidenav opened=true position=\\\"end\\\" #drawer mode=\\\"over\\\">\\r\\n    <mat-list role=\\\"list\\\">\\r\\n      <mat-list-item class=\\\"sidNavTitle\\\">\\r\\n        <fa name=\\\"fas fa-align-justify\\\" size=\\\"1x\\\" (click)=\\\"drawer.toggle()\\\" class=\\\"toggle\\\"></fa>\\r\\n        <span class=\\\"label\\\">ردگیری</span>\\r\\n      </mat-list-item>\\r\\n      <mat-accordion>\\r\\n        <mat-expansion-panel (opened)=\\\"panelOpenState = true\\\" (closed)=\\\"panelOpenState = false\\\"\\r\\n                             *ngFor=\\\"let orgForFight of orgForFightUsers\\\">\\r\\n          <mat-expansion-panel-header *ngIf=\\\"activeUserInfo.username !== orgForFight.user.username\\\">\\r\\n            <mat-panel-title class=\\\"messanger-users\\\">\\r\\n              <fa name=\\\"fa fa-user-circle-o\\\" class=\\\"contactLabel\\\"\\r\\n                  [ngClass]=\\\"getUserStatus(orgForFight.user.id) ? 'text-success' : 'text-danger'\\\"\\r\\n                  size=\\\"1x\\\"></fa>\\r\\n              &nbsp;\\r\\n              <span class=\\\"label .iBtn\\\" *ngIf=\\\"orgForFight.user.lastname!=null\\\">\\r\\n                {{orgForFight.user.firstname}} {{orgForFight.user.lastname}}\\r\\n              </span>\\r\\n              <span class=\\\"label\\\" *ngIf=\\\"orgForFight.user.lastname==null\\\">\\r\\n                {{orgForFight.user.username}}\\r\\n              </span>\\r\\n              <span class=\\\"position\\\">\\r\\n                <span class=\\\"commander\\\">فرمانده: </span>\\r\\n                {{orgForFight.orgForFight.unit.text}} - {{orgForFight.orgForFight.unit.name}}\\r\\n              </span>\\r\\n\\r\\n            </mat-panel-title>\\r\\n          </mat-expansion-panel-header>\\r\\n          <div dir=\\\"rtl\\\">\\r\\n            <mat-list-item>\\r\\n              <mat-chip class=\\\"col col-2\\\" *ngIf=\\\"!orgForFight.play\\\">\\r\\n                <i matTooltip=\\\"شروع ردگیری\\\" class=\\\"fa fa-play float-right iBtn\\\" (click)=\\\"startTrack(orgForFight)\\\"[ngClass]=\\\"getUserStatus(orgForFight.user.id) ? 'text-success' : 'text-danger'\\\" ></i>\\r\\n              </mat-chip>\\r\\n              <mat-chip class=\\\"col col-2\\\" *ngIf=\\\"orgForFight.play\\\">\\r\\n                <i matTooltip=\\\"توقف ردگیری\\\" class=\\\"fa fa-pause iBtn\\\" (click)=\\\"stopTrack(orgForFight)\\\"></i>\\r\\n              </mat-chip>\\r\\n              <mat-chip class=\\\"col col-2\\\">\\r\\n                <i matTooltip=\\\"پاکسازی\\\" class=\\\"fa fa-eraser iBtn\\\" (click)=\\\"clear(orgForFight)\\\"></i>\\r\\n              </mat-chip>\\r\\n              <mat-chip class=\\\"col col-2\\\">\\r\\n                <i matTooltip=\\\"سابقه ردگیری\\\" class=\\\"fa fa-history iBtn\\\" (click)=\\\"showInputs(orgForFight)\\\"></i>\\r\\n              </mat-chip>\\r\\n              <mat-chip class=\\\"col col-2\\\">\\r\\n                <i matTooltip=\\\"تنظیمات\\\" class=\\\"fa fa-cog iBtn\\\" (click)=\\\"settings(orgForFight)\\\"></i>\\r\\n              </mat-chip>\\r\\n              <div class=\\\"col col-2\\\">\\r\\n                <mat-slide-toggle (change)=\\\"changeVisibilityLayer(orgForFight)\\\"\\r\\n                                  [(ngModel)]=\\\"orgForFight.visibilityLayer\\\">\\r\\n\\r\\n                </mat-slide-toggle>\\r\\n              </div>\\r\\n            </mat-list-item>\\r\\n            <mat-list-item *ngIf=\\\"orgForFight.inputs\\\">\\r\\n              <dp-date-picker dir=\\\"rtl\\\" theme=\\\"dp-material\\\" [(ngModel)]=\\\"orgForFight['start']\\\" mode=\\\"daytime\\\"\\r\\n                              placeholder=\\\" از ساعت\\\" class=\\\"datePicker\\\">\\r\\n              </dp-date-picker>\\r\\n            </mat-list-item>\\r\\n            <mat-list-item *ngIf=\\\"orgForFight.inputs\\\">\\r\\n              <dp-date-picker dir=\\\"rtl\\\" theme=\\\"dp-material\\\" [(ngModel)]=\\\"orgForFight['end']\\\" mode=\\\"daytime\\\"\\r\\n                              placeholder=\\\"تا ساعت \\\" class=\\\"datePicker\\\">\\r\\n              </dp-date-picker>\\r\\n            </mat-list-item>\\r\\n            <mat-list-item *ngIf=\\\"orgForFight.inputs\\\">\\r\\n              <i matTooltip=\\\"تایید\\\" class=\\\"fa fa-check iBtn \\\" (click)=\\\"enableHistory(orgForFight)\\\"></i>\\r\\n\\r\\n            </mat-list-item>\\r\\n          </div>\\r\\n        </mat-expansion-panel>\\r\\n      </mat-accordion>\\r\\n    </mat-list>\\r\\n  </mat-sidenav>\\r\\n  <mat-sidenav-content>\\r\\n    <!-- <mat-toolbar class=\\\"toolbar\\\">\\r\\n      <button mat-button [matMenuTriggerFor]=\\\"menus\\\">\\r\\n        <fa name=\\\"fas fa-clone\\\"></fa>\\r\\n      </button>\\r\\n      <mat-menu #menus='matMenu' class=\\\"layersMenu\\\">\\r\\n        <div class=\\\"menu-header\\\">لایه ها</div>\\r\\n        <button mat-menu-item [ngClass]=\\\"{'activeLayer': activeLayer === 'one'}\\\" (click)=\\\"changeBaseLayer('one')\\\" class=\\\"layerButton\\\">\\r\\n          <img src=\\\"./assets/img/preview-vegetation.png\\\" width=\\\"60px\\\">\\r\\n        </button>\\r\\n        <button mat-menu-item [ngClass]=\\\"{'activeLayer': activeLayer === 'two'}\\\" (click)=\\\"changeBaseLayer('two')\\\" class=\\\"layerButton\\\">\\r\\n          <img src=\\\"./assets/img/preview-bing.png\\\" width=\\\"60px\\\">\\r\\n        </button>\\r\\n        <button mat-menu-item [ngClass]=\\\"{'activeLayer': activeLayer === 'three'}\\\" (click)=\\\"changeBaseLayer('three')\\\" class=\\\"layerButton\\\">\\r\\n          <img src=\\\"./assets/img/preview-google.png\\\" width=\\\"60px\\\">\\r\\n        </button>\\r\\n      </mat-menu>\\r\\n      <button mat-button (click)=\\\"printMap()\\\">\\r\\n        <fa name=\\\"fas fa-print\\\"></fa>\\r\\n      </button>\\r\\n      <button mat-button (click)=\\\"zoomInMap()\\\">\\r\\n        <fa name=\\\"fas fa-search-plus\\\"></fa>\\r\\n      </button>\\r\\n      <button mat-button (click)=\\\"zoomOutMap()\\\">\\r\\n        <fa name=\\\"fas fa-search-minus\\\"></fa>\\r\\n      </button>\\r\\n      <button mat-button (click)=\\\"makeMapGraticule()\\\">\\r\\n        <fa name=\\\"fas fa-th-large\\\"></fa>\\r\\n      </button>\\r\\n      <div [ngStyle]=\\\"{left: fromLeft + 'px', top: fromTop + 'px'}\\\" *ngIf=\\\"visibility\\\" class=\\\"summery\\\">{{summery | jalali}}</div>\\r\\n -->\\r\\n\\r\\n    <mobile-app-track-nav-bar></mobile-app-track-nav-bar>\\r\\n    <fa name=\\\"fas fa-align-justify\\\" class=\\\"leftMenuButton\\\" size=\\\"1x\\\" (click)=\\\"drawer.toggle()\\\"></fa>\\r\\n    <fa name=\\\"fas fa-eye\\\" class=\\\"showBarsToggle\\\" size=\\\"1x\\\" (click)=\\\"showBarsToggle()\\\"></fa>\\r\\n    <div id=\\\"calk-map\\\" class=\\\"calk-map\\\"></div>\\r\\n    <div id=\\\"mouse-position\\\" class=\\\"mouse-position calk-control\\\"></div>\\r\\n    <div id=\\\"scale-line-box\\\" class=\\\"scale-line-box calk-control\\\"></div>\\r\\n  </mat-sidenav-content>\\r\\n</mat-sidenav-container>\\r\\n\"","import {Component, OnDestroy, OnInit, Injector} from '@angular/core';\r\nimport {UsersService} from '../../../../services/users/users.service';\r\nimport {LocalStorageService} from \"../../../../services/local-storage/local-storage.service\";\r\nimport {SocketService} from \"../../../../services/socket/socket.service\";\r\nimport {MessagesService} from \"../../../../services/messages/messages.service\";\r\nimport {MatDialog} from \"@angular/material\";\r\nimport {FavaMap} from \"fava-map\";\r\nimport View from 'ol/View';\r\nimport OlProj from 'ol/proj';\r\nimport {ActivatedRoute, Router} from \"@angular/router\";\r\nimport {FavaLayerService, FavaLayer, FavaLayersInterface} from 'fava-layer';\r\nimport {TrackingService} from '../../../../services/tracking/tracking.service';\r\nimport {ConfigStyleService} from \"../../../../services/config-style.service\";\r\nimport VectorLayer from 'ol/layer/Vector';\r\nimport Feature from 'ol/Feature';\r\nimport VectorSource from 'ol/source/Vector';\r\nimport Point from 'ol/geom/Point';\r\nimport {SettingsComponent} from 'src/mobile-app/pages/tracking/components/settings/settings.component';\r\nimport {Observable, Subject} from 'rxjs';\r\nimport MousePosition from \"ol/control/MousePosition\";\r\nimport ScaleLine from 'ol/control/ScaleLine';\r\nimport ZoomSlider from 'ol/control/ZoomSlider';\r\nimport OlMap from \"ol/Map\";\r\nimport {delay} from 'rxjs/operators';\r\nimport {CalkService} from '../../../../services/calk/calk.service';\r\nimport { ConfigService } from '../../../../services/config.service';\r\nimport { CommonService } from '../../../../services/common/common.service';\r\n\r\n\r\n\r\nconst mousePositionControl = new MousePosition({\r\n  undefinedHTML: 'نشانگر در نقشه نیست'\r\n});\r\n\r\n@Component({\r\n  selector: 'app-index',\r\n  templateUrl: './index.component.html',\r\n  styleUrls: ['./index.component.css']\r\n})\r\nexport class IndexComponent implements OnInit, OnDestroy {\r\n  trackTime: any = 99999999999999;\r\n  minOfTimes: any;\r\n  summery: any;\r\n  minOfHistoryTimes;\r\n  liveTime;\r\n  fromTop: any;\r\n  fromLeft: any;\r\n  refreshtime;\r\n  visibility = false;\r\n  intervals = [];\r\n  currentUserId: any;\r\n  checked;\r\n  CurrentUserActiveMission: any;\r\n  public activeUserInfo: any;\r\n  public newMessages: Array<any>;\r\n  public orgForFightUsers = [];\r\n  mode = true;\r\n  private favaLayer;\r\n\r\n\r\n  constructor(public userService: UsersService,\r\n    private dialog: MatDialog,\r\n    private localStorage: LocalStorageService,\r\n    private socketService: SocketService,\r\n    private messageService: MessagesService,\r\n    private bottomSheet: MatDialog,\r\n    private mapService: FavaMap,\r\n    private route: ActivatedRoute,\r\n    private usersService: UsersService,\r\n    private myRoute: Router,\r\n    private configService: ConfigService,\r\n    private injector: Injector,\r\n    private commonService: CommonService,\r\n    private trackService: TrackingService,\r\n    private configStyleService: ConfigStyleService) {\r\n    this.currentUserId = this.usersService.getUserInfo().id;\r\n    this.CurrentUserActiveMission = this.usersService.getMission().id;\r\n\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n\r\n    const refreshMap = () => {\r\n      this.mapService.setTarget('');\r\n      this.mapService.setTarget('calk-map');\r\n    };\r\n    this.mapService.getMap().on('change:view', refreshMap);\r\n    this.activeUserInfo = this.userService.getUserInfo();\r\n    this.getUsers();\r\n    // if (this.trackService.canInitLayers) {\r\n    this.trackService.moduleMap = new Map();\r\n    this.initializeMap();\r\n    this.initializeUsersLayer();\r\n    this.trackService.canInitLayers = false;\r\n    // }\r\n    // const iconFeature = new Feature(new Point([31, 54]));\r\n    // const temp = new VectorLayer({\r\n    //   zIndex: 2000000,\r\n    //   source: new VectorSource({features: [iconFeature]})\r\n    // })\r\n    // this.mapService.getMap().addLayer(temp)\r\n    const myMap = new OlMap({\r\n      target: 'calk-map'\r\n    });\r\n    this.mapService.setMap(myMap);\r\n    refreshMap();\r\n    console.log(this.mapService.getMap().getInteractions());\r\n    const me = this;\r\n    this.addMousePosition();\r\n    this.addScaleLine();\r\n    this.addZoomSlider();\r\n    // this.mapService.getMap().on('click', function (evt) {\r\n    //   // me.displayFeatureInfo(evt.pixel, evt);\r\n    // });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.orgForFightUsers.forEach(\r\n      (orgForFightUser) => {\r\n        const trackModule = this.trackService.moduleMap.get(orgForFightUser.user.id);\r\n        trackModule.stopTrack();\r\n        clearInterval(orgForFightUser.myIntervalId);\r\n        trackModule.trackLayer.setVisible(true);\r\n        trackModule.historyLayer.setVisible(true);\r\n        this.clear(orgForFightUser).subscribe();\r\n      }\r\n    );\r\n  }\r\n\r\n  initializeMap() {\r\n    this.favaLayer = new FavaLayer(this.mapService, this.injector);\r\n    this.favaLayer.run(\"../assets/2ndTileLayer.json\").subscribe(\r\n      () => {\r\n        const view = new View({\r\n          center: [0, 0],\r\n          zoom: 3,\r\n          minZoom: 2,\r\n          maxZoom: 11\r\n        });\r\n        this.mapService.getMap().setView(view);\r\n      }\r\n    );\r\n  }\r\n\r\n  initializeUsersLayer() {\r\n    this.orgForFightUsers.forEach(\r\n      (orgForFightUser) => {\r\n        const mhd = this.favaLayer.addLayer({\r\n          type: \".TrackLayer\",\r\n          liveUrl: this.configService.localVariables.baseUrl + \"/lastuserposition\",\r\n          liveBody: {\r\n            id: orgForFightUser.user.id\r\n          },\r\n          historyUrl: this.configService.localVariables.baseUrl + \"/searchtrackdata\",\r\n          historyBody: {}\r\n        });\r\n        this.trackService.moduleMap.set(orgForFightUser.user.id, mhd);\r\n      }\r\n    );\r\n  }\r\n\r\n  // findLivePointTime(trackModule, orgForFight) {\r\n  // }\r\n  //<MN>\r\n  startTrack(orgForFight) {\r\n    if (!this.getUserStatus(orgForFight.user.id)) {\r\n      debugger\r\n      this.commonService.showEventMessage(\"شخص مورد نظر به شبکه متصل نیست!\")\r\n      return;\r\n    }\r\n    this.commonService.showEventMessage(\"شروع ردگیری...\")\r\n    orgForFight.play = !orgForFight.play;\r\n    this.refreshtime = Number(orgForFight.refreshtime);\r\n    const trackModule = this.trackService.moduleMap.get(orgForFight.user.id);\r\n    trackModule.startTrack(\r\n      [{\r\n        \"sender\": {\"id\": orgForFight.user.id}\r\n      }],\r\n      this.refreshtime\r\n    );\r\n    this.callHistory(trackModule, orgForFight);//set interval for geting history with refreshTime\r\n  }\r\n\r\n  //<MN>\r\n  private callHistory(trackModule, orgForFight) {\r\n    console.log('trackModule.trackLayer.getSource()', trackModule.trackLayer.getSource())\r\n    console.log('trackModule.trackLayer.getSource()', trackModule.historyLayer.getSource())\r\n\r\n    orgForFight.myIntervalId = setInterval(() => {\r\n      this.updateMinestTime(trackModule.trackLayer.getSource());\r\n      this.updateMinestTime(trackModule.historyLayer.getSource());\r\n      trackModule.enableHistory([{\r\n        sender: {\r\n          id: orgForFight.user.id\r\n        },\r\n        mission: {\r\n          id: this.CurrentUserActiveMission\r\n        },\r\n\r\n        start_time: this.trackTime\r\n\r\n      }]);\r\n    }, Number(this.refreshtime) * 1000);\r\n\r\n  }\r\n\r\n  updateMinestTime(source) {\r\n    debugger\r\n    //find minimum time between liveTrack and historyTrack.\r\n    const features = source.getFeatures()\r\n    // debugger\r\n    // if (features.length > 0) {\r\n    features.forEach(element => {\r\n      console.log('element', element.values_.time)\r\n\r\n      console.log('mhdtracktimeBefore', this.trackTime)\r\n      if (element.values_.time && this.trackTime > element.values_.time)\r\n        this.trackTime = element.values_.time\r\n      console.log('mhdtracktimeAfter', this.trackTime)\r\n    })\r\n    // }\r\n  }\r\n\r\n  //<MN>\r\n  stopTrack(orgForFight) {\r\n    const trackModule = this.trackService.moduleMap.get(orgForFight.user.id);\r\n    //stop kardane interval dakhele fava layer\r\n    trackModule.stopTrack();\r\n    //stop kardane interval dakhele fakur\r\n    clearInterval(orgForFight.myIntervalId);\r\n    orgForFight.play = !orgForFight.play;\r\n\r\n  }\r\n\r\n  public enableHistory(orgForFight) {\r\n    let s = new Date(orgForFight['start']);\r\n    let e = new Date(orgForFight['end']);\r\n\r\n    const trackModule = this.trackService.moduleMap.get(orgForFight.user.id);\r\n    console.log(' history', trackModule.historyLayer.getSource().getFeatures());\r\n    trackModule.enableHistory([{\r\n      sender: {\r\n        id: orgForFight.user.id\r\n      },\r\n      mission: {\r\n        id: this.CurrentUserActiveMission\r\n      },\r\n      start_time: s.getTime(),\r\n      end_time: e.getTime()\r\n    }]);\r\n  }\r\n\r\n  //<MN>\r\n  clear(orgForFight): Observable<any> {\r\n    let sub = new Subject<any>();\r\n    const trackModule = this.trackService.moduleMap.get(orgForFight.user.id);\r\n    //call disableHistory in fava layer.remove all historyLayer feature.\r\n    trackModule.disableHistory();\r\n    trackModule.removeFeatures(trackModule.trackLayer);\r\n    //set track time largest for it not be undefined.\r\n    this.trackTime = 99999999999999;\r\n    console.log(' this.trackTime', this.trackTime);\r\n    sub.next();\r\n    return sub;\r\n  }\r\n\r\n  changeVisibilityLayer(orgForFight) {\r\n    const trackModule = this.trackService.moduleMap.get(orgForFight.user.id);\r\n    trackModule.trackLayer.setVisible(orgForFight.visibilityLayer);\r\n    trackModule.historyLayer.setVisible(orgForFight.visibilityLayer);\r\n  }\r\n\r\n  getUsers() {\r\n    this.orgForFightUsers = this.userService.getOrgForFightUsers();\r\n    console.log('this.orgForFightUsers', this.orgForFightUsers);\r\n    this.orgForFightUsers.forEach(\r\n      (orgForFightUser) => {\r\n        orgForFightUser.visibilityLayer = true;\r\n      }\r\n    );\r\n  }\r\n\r\n  showBarsToggle() {\r\n    this.configStyleService.showNavBar.next();\r\n  }\r\n\r\n  getUserStatus(id) {\r\n    return this.socketService.userIsOnline(id);\r\n  }\r\n\r\n  private navigate(element) {\r\n    element.play = !element.play;\r\n    console.log('element', element);\r\n  }\r\n\r\n  public showInputs(element) {\r\n    element.inputs = !element.inputs;\r\n  }\r\n\r\n  private settings(orgForFight) {\r\n    console.log('orgForFight', orgForFight);\r\n    const dialogRef = this.dialog.open(SettingsComponent, {\r\n\r\n      data: orgForFight.user.id\r\n    });\r\n    dialogRef.afterClosed().subscribe(\r\n      (data) => {\r\n        if (data) {\r\n          console.log('dataa', data);\r\n          orgForFight.refreshtime = data;\r\n\r\n          this.clear(orgForFight).subscribe(\r\n            (data) => {\r\n              this.startTrack(orgForFight);\r\n            }\r\n          );\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  private displayFeatureInfo(pixel, evt) {\r\n    const me = this;\r\n    const feature = this.mapService.getMap().forEachFeatureAtPixel(pixel, function (feature) {\r\n      return feature;\r\n    });\r\n\r\n    if (feature) {\r\n      console.log('ha ha', feature);\r\n      console.log('feature.values_.senderId.lastname', feature.values_);\r\n      this.visibility = true;\r\n      this.fromLeft = evt.pointerEvent.clientX;\r\n      this.fromTop = evt.pointerEvent.clientY;\r\n      // this.summery = feature.values_.senderId.lastname;\r\n      this.summery = feature.values_.time;\r\n\r\n      let mmhd = feature.values_.mission.lastname;\r\n\r\n    } else {\r\n      console.log('&nbsp;');\r\n      this.visibility = false;\r\n    }\r\n\r\n    // if (feature !== me.highlight) {\r\n    //   if (me.highlight) {\r\n    //     if (me.highlight.getGeometry().getType() == 'Point')\r\n    //       me.highlight.setStyle(pointStyle);\r\n    //     else\r\n    //       me.highlight.setStyle(style);\r\n    //   }\r\n    //   if (feature) {\r\n    //     if (feature.getGeometry().getType() == 'Point')\r\n    //       feature.setStyle(pointStyle);\r\n    //     else\r\n    //       feature.setStyle(highlightStyle);\r\n    //   }\r\n    //   me.highlight = feature;\r\n    // }\r\n\r\n  }\r\n\r\n  addMousePosition() {\r\n    const mousePositionCtrl = new MousePosition({\r\n      projection: 'EPSG:4326',\r\n      className: 'custom-mouse-position',\r\n      target: 'mouse-position',\r\n      undefinedHTML: '&nbsp;'\r\n    });\r\n    this.mapService.getMap().addControl(mousePositionCtrl);\r\n  }\r\n\r\n  addScaleLine() {\r\n\r\n    const scaleLineCtrl = new ScaleLine({\r\n      target: 'scale-line-box',\r\n      className: 'scale-line-box',\r\n    });\r\n    this.mapService.getMap().addControl(scaleLineCtrl);\r\n  }\r\n\r\n  addZoomSlider() {\r\n    const myFunc = function (e) {\r\n      const s = document.getElementsByClassName('ol-zoomslider-thumb ol-unselectable');\r\n      s[0].innerHTML = e.map.getView().getZoom().toFixed();\r\n    };\r\n    const zoomSliderCtrl = new ZoomSlider();\r\n\r\n    this.mapService.getMap().addControl(zoomSliderCtrl);\r\n    this.mapService.getMap().on('moveend', myFunc);\r\n  }\r\n}\r\n\r\n\r\n","import {NgModule} from '@angular/core';\r\nimport {Routes, RouterModule} from '@angular/router';\r\nimport {IndexComponent} from './index/index.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: IndexComponent,\r\n    children: [\r\n      \r\n    ]\r\n  }\r\n\r\n\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class TrackingRoutingModule {\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\n\r\nimport {\r\n  MatSidenavModule,\r\n  MatSelectModule,\r\n  MatFormFieldModule,\r\n  MatTabsModule,\r\n  MatButtonModule,\r\n  MatListModule,\r\n  MatProgressBarModule,\r\n  MatMenuModule,\r\n  MatExpansionModule,\r\n  MatTooltipModule,\r\n  MatChipsModule,\r\n  MatDatepickerModule,\r\n  MatInputModule,\r\n  MatCheckboxModule,\r\n  MatIconModule,\r\n  MatCardModule,\r\n  MatDialogModule,\r\n  MatPaginatorModule,\r\n  MatTableModule,\r\n  MatRadioModule,\r\n  MatNativeDateModule,\r\n  MatSlideToggleModule,\r\n  MatToolbarModule\r\n} from '@angular/material';\r\nimport {AngularFontAwesomeModule} from 'angular-font-awesome';\r\n\r\nimport {TrackingRoutingModule} from './tracking-routing.module';\r\nimport {IndexComponent} from './index/index.component';\r\nimport {FavaLayerModule} from 'fava-layer';\r\nimport {DpDatePickerModule} from 'ng2-jalali-date-picker';\r\nimport {PipesModule} from '../../../pipes/pipes.module';\r\nimport {ReactiveFormsModule, FormsModule} from '@angular/forms';\r\nimport {SettingsComponent} from 'src/mobile-app/pages/tracking/components/settings/settings.component';\r\nimport {TrackNavBarComponent} from \"../../../components/track-nav-bar/track-nav-bar.component\";\r\n\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TrackingRoutingModule, MatProgressBarModule,\r\n    MatSidenavModule, MatSelectModule, MatFormFieldModule,\r\n    MatTabsModule, MatButtonModule, MatListModule, AngularFontAwesomeModule, MatMenuModule, MatExpansionModule, MatChipsModule,\r\n    MatTooltipModule, DpDatePickerModule, PipesModule,\r\n    CommonModule,\r\n    MatSidenavModule, MatSelectModule, MatFormFieldModule,\r\n    MatSidenavModule, MatSelectModule, MatInputModule, ReactiveFormsModule, MatCheckboxModule,\r\n    MatFormFieldModule, MatCardModule, MatTabsModule, FormsModule, MatIconModule,\r\n    MatButtonModule, MatListModule, MatCheckboxModule, MatTableModule, MatNativeDateModule,\r\n    AngularFontAwesomeModule, MatDialogModule, MatPaginatorModule, MatRadioModule, MatDatepickerModule,\r\n    MatTabsModule, MatButtonModule, MatListModule, MatDialogModule, MatExpansionModule, MatSlideToggleModule, MatToolbarModule, FavaLayerModule\r\n  ],\r\n  entryComponents: [SettingsComponent, TrackNavBarComponent],\r\n  declarations: [IndexComponent, SettingsComponent, TrackNavBarComponent]\r\n})\r\nexport class TrackingModule {\r\n}\r\n"],"sourceRoot":""}